<div class="alert alert-warning alert-dismissible" role="alert" *ngIf="created || updated">
  <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
  <span *ngIf="updated">L'article a été mis à jour</span>
  <span *ngIf="created">L'article a été créé</span>
</div>
<div class="alert alert-danger alert-dismissible" role="alert" *ngIf="errorOccurred">
  <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
  <span>Une erreur est survenue. Si le problème persiste veuillez contacter le service de support.</span>
</div>
<div class="row" *ngIf="article">
  <div class="col-xs-12">
    <a class="btn btn-link" href [routerLink]="['/', 'admin', 'article']">
      <i class="fa fa-angle-double-left" aria-hidden="true"></i> Retour
    </a>
  </div>
  <div class="col-xs-12 col-sm-8">
    <form (submit)="submitArticle()" *ngIf="article">
      <div class="form-group">
        <label for="title">Lien</label>
        <input type="text" class="form-control" id="link" name="link" #link="ngModel"
               placeholder="Lien" [(ngModel)]="article.permalink">
      </div>
      <div class="form-group">
        <label for="title">Titre</label>
        <input type="text" class="form-control" id="title" name="title"
               placeholder="Titre" [(ngModel)]="article.title" (ngModelChange)="onTitleChanged(!link.control.dirty)">
      </div>
      <div class="form-group">
        <label>Contenu</label>
        <app-rich-text-editor *ngIf="article" [(content)]="article.content"></app-rich-text-editor>
      </div>
      <button type="submit" class="btn btn-default">Soumettre</button>
    </form>
  </div>
  <div class="col-xs-12 col-sm-4">
    <app-admin-thumbnail [pictureId]="article.thumbnailId"
                         (pictureUploaded)="onThumbnailUploaded($event)"></app-admin-thumbnail>
  </div>
</div>
